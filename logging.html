

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Logging &mdash; Scalable Vector Search 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/sphinx_collapse.css?v=226d88b4" />
      <link rel="stylesheet" type="text/css" href="_static/css/custom.css" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=d45e8c67"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Common Python API" href="python/common.html" />
    <link rel="prev" title="FAQ" href="faq.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Scalable Vector Search
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="start.html">Getting started with Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="start_cpp.html">Getting started with C++</a></li>
<li class="toctree-l1"><a class="reference internal" href="features.html">Library Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="howtos.html">How-Tos</a></li>
<li class="toctree-l1"><a class="reference internal" href="io.html">I/O and Conversion Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="performance/index.html">Performance Tuning</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced/index.html">Advanced Topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="benchs/index.html">Benchmarks</a></li>
<li class="toctree-l1"><a class="reference internal" href="roadmap.html">Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Logging</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#logging-sinks">Logging Sinks</a></li>
<li class="toctree-l2"><a class="reference internal" href="#logging-api">Logging API</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Python API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="python/common.html">Common Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="python/loaders.html">Loaders</a></li>
<li class="toctree-l1"><a class="reference internal" href="python/flat.html">Flat Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="python/vamana.html">Vamana Graph Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="python/dynamic.html">Dynamic Vamana Graph Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="python/backend.html">Backend Selection</a></li>
<li class="toctree-l1"><a class="reference internal" href="python/upgrader.html">Object Upgrader</a></li>
<li class="toctree-l1"><a class="reference internal" href="python/logging.html">Python Logging API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">C++ Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="cpp/top.html">C++ Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="cpp/index/index.html">Indexes</a></li>
<li class="toctree-l1"><a class="reference internal" href="cpp/core/index.html">Core Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="cpp/quantization/index.html">Quantization Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="cpp/concepts/index.html">Core Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="cpp/internal/index.html">Internals</a></li>
<li class="toctree-l1"><a class="reference internal" href="cpp/testing.html">Testing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Experimental Python Library</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="python/experimental/leanvec.html">Using LeanVec</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Scalable Vector Search</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Logging</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/logging.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="logging">
<span id="logging-top"></span><h1>Logging<a class="headerlink" href="#logging" title="Link to this heading"></a></h1>
<p>SVS uses the excellent <cite>spdlog &lt;https://github.com/gabime/spdlog&gt;</cite> to support logging functionality.
Logging levels (in order of increasing severity) are:</p>
<table class="docutils align-default" id="id1" style="width: 100">
<caption><span class="caption-text">SVS Logging Levels</span><a class="headerlink" href="#id1" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Log Level</p></th>
<th class="head"><p>Environment Variables</p></th>
<th class="head"><p>Descriptions</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Trace</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">trace</span></code>, <code class="docutils literal notranslate"><span class="pre">TRACE</span></code></p></td>
<td><p>Tracing control flow through functions.
Potentially extremely verbose.</p></td>
</tr>
<tr class="row-odd"><td><p>Debug</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">debug</span></code>, <code class="docutils literal notranslate"><span class="pre">DEBUG</span></code></p></td>
<td><p>Verbose logging useful for debugging.</p></td>
</tr>
<tr class="row-even"><td><p>Info</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">info</span></code>, <code class="docutils literal notranslate"><span class="pre">INFO</span></code></p></td>
<td><p>Informative prints. This level is used by
long-running process to provide periodic updates
that progress is being made.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Warn</strong>
(default)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">warn</span></code>, <code class="docutils literal notranslate"><span class="pre">WARN</span></code></p></td>
<td><p>Diagnostic warnings about feature deprecation and
other situations upon which the user may need to
take action.</p></td>
</tr>
<tr class="row-even"><td><p>Error</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">error</span></code>, <code class="docutils literal notranslate"><span class="pre">ERROR</span></code></p></td>
<td><p>Hard program errors that which may be recoverable
but likely require intervention from the user.</p></td>
</tr>
<tr class="row-odd"><td><p>Critical</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">critical</span></code>,
<code class="docutils literal notranslate"><span class="pre">CRITICAL</span></code></p></td>
<td><p>Critical errors that must be addressed and will
likely lead to program termination.</p></td>
</tr>
<tr class="row-even"><td><p>Off</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">off</span></code>, <code class="docutils literal notranslate"><span class="pre">OFF</span></code></p></td>
<td><p>Disable loging.</p></td>
</tr>
</tbody>
</table>
<p>Each logging level suppresses all diagnostic messages with a lower severity.</p>
<p>If SVS is compiled using <code class="docutils literal notranslate"><span class="pre">-DSVS_INITIALIZE_LOGGER=YES</span></code>, then the environment variable <code class="docutils literal notranslate"><span class="pre">SVS_LOG_LEVEL</span></code> can be used set the initial logging level.
The string values for these variables is provided in the table above.
For example, starting an SVS application with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SVS_LOG_LEVEL</span><span class="o">=</span><span class="n">debug</span> <span class="o">./</span><span class="n">application</span>
</pre></div>
</div>
<p>Will initialize logging at the “debug” level, passing through messages with severity “debug” or higher.
If this environment variable is not supplied or if it is the empty string, then the default logging level of “warn” will be used.
Using any other string value for the environment variable results in unspecified behavior.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Generally, if SVS doesn’t understand a string value, it will default to “warn”.
However, this behvaior should not be relied upon.</p>
</div>
<section id="logging-sinks">
<h2>Logging Sinks<a class="headerlink" href="#logging-sinks" title="Link to this heading"></a></h2>
<p>By default, log messages will be sent to <code class="docutils literal notranslate"><span class="pre">stdout</span></code>.
This behavior can be changed if desired using the <code class="docutils literal notranslate"><span class="pre">SVS_LOG_SINK</span></code> environment variable.
Values for this variable are shown below.</p>
<table class="docutils align-default" id="id2" style="width: 100">
<caption><span class="caption-text">SVS Built-in Sinks</span><a class="headerlink" href="#id2" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Sink</p></th>
<th class="head"><p>Enironment Variable</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>stdout</strong>
(default)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">stdout</span></code></p></td>
<td><p>Send all log messages to <code class="docutils literal notranslate"><span class="pre">stdout</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p>stderr</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">stderr</span></code></p></td>
<td><p>Send all log messages to <code class="docutils literal notranslate"><span class="pre">stderr</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p>null</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">null</span></code></p></td>
<td><p>Send all log messages into the abyss (no logging
whatsoever).</p></td>
</tr>
<tr class="row-odd"><td><p>file</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">file:path/to/file</span></code></p></td>
<td><p>Write log messages to the file <code class="docutils literal notranslate"><span class="pre">path/to/file</span></code>.
SVS will try to make  all paths necessary to create
the file. Insufficient permissions will result in
an exception.</p>
<p>The contents of any existing file with the exact
same path will be deleted.</p>
</td>
</tr>
</tbody>
</table>
<p>For example, to send all log messages to a file <code class="docutils literal notranslate"><span class="pre">~/svslog.txt</span></code>, an application linked with SVS could be started as</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SVS_LOG_SINK</span><span class="o">=</span><span class="n">file</span><span class="p">:</span><span class="o">~/</span><span class="n">log</span><span class="o">.</span><span class="n">txt</span> <span class="o">./</span><span class="n">application</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Writes to a file are buffered and periodically flushed.
If an SVS application is interrupted and that brings down the application, it is possible that some log messages could be lost.</p>
</div>
</section>
<section id="logging-api">
<h2>Logging API<a class="headerlink" href="#logging-api" title="Link to this heading"></a></h2>
<p>Both the C++ library and <code class="docutils literal notranslate"><span class="pre">svs</span></code> provide APIs for configuring logging, with the former accepting any instance of a <code class="docutils literal notranslate"><span class="pre">std::shared_ptr&lt;spdlog::logger&gt;</span></code>.
Configuration made through the API superseded those configured using the environment variables.</p>
<ul class="simple">
<li><p><a class="reference internal" href="cpp/core/logging.html#cpp-core-logging"><span class="std std-ref">Link to C++ API</span></a></p></li>
<li><p><a class="reference internal" href="python/logging.html#python-logging"><span class="std std-ref">Link to svs API</span></a></p></li>
</ul>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Environment variable based initialization can be disabled by compiling SVS applications
with <code class="docutils literal notranslate"><span class="pre">-DSVS_INITIALIZE_LOGGER=NO</span></code>. The global logger will then have a null sink and
no messages will be logged.</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="faq.html" class="btn btn-neutral float-left" title="FAQ" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="python/common.html" class="btn btn-neutral float-right" title="Common Python API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Intel Corporation.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>